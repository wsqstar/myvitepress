# od 矩阵的计算
od矩阵是众多origin以及destination之间的距离记录。
## 存储
od矩阵的存储有两种形式：
- origin 以及 destination构成的双主键，以及cost 列
- origin 以及destination 构成的 m n 矩阵
## 距离
距离有多种形式：

在地理学中，距离可以有多种形式，具体取决于所使用的测量方法和应用场景。以下是几种常见的距离形式：

1. **直线距离（欧几里得距离）**：
   - 这是两点之间的最短路径，通常在二维或三维空间中计算。公式为：
     $$
     d = \sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}
     $$
     在三维空间中，公式为：
     $$
     d = \sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2 + (z_2 - z_1)^2}
     $$

2. **球面距离（大圆距离）**：
   - 在地球表面（假设地球是一个完美的球体），两点之间的最短距离是通过大圆路径计算的。常用的公式是Haversine公式：
     $$
     d = 2r \cdot \arcsin\left(\sqrt{\sin^2\left(\frac{\Delta\phi}{2}\right) + \cos(\phi_1) \cdot \cos(\phi_2) \cdot \sin^2\left(\frac{\Delta\lambda}{2}\right)}\right)
     $$
     其中，$r$ 是地球的半径，$\phi_1$ 和 $\phi_2$ 是两点的纬度，$\Delta\phi$ 是纬度差，$\Delta\lambda$ 是经度差。

3. **曼哈顿距离**：
   - 在城市网格中，两点之间的距离是沿垂直和水平方向的距离之和。公式为：
     $$
     d = |x_2 - x_1| + |y_2 - y_1|
     $$

4. **切比雪夫距离**：
   - 这是在棋盘格中，两点之间的最大距离，即沿任意一个坐标轴的最大差值。公式为：
     $$
     d = \max(|x_2 - x_1|, |y_2 - y_1|)
     $$

5. **旅行距离（道路距离）**：
   - 这是通过实际道路网络计算的距离，通常使用图论中的最短路径算法（如Dijkstra算法或A*算法）来计算。

6. **时间距离**：
   - 这是根据交通状况和速度限制计算的距离，通常以时间单位（如分钟或小时）来表示。

7. **经济距离**：
   - 这是根据运输成本、关税、贸易壁垒等因素计算的距离，用于国际贸易和物流分析。

这些距离形式在不同的地理分析和应用中各有其重要性和适用性。